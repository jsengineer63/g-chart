const barChartOptions = {
  url: `https://api.delkos.com/api/v2/lifesaversentiment/sentiment?api_key=e7ca1635c516597b59845e6908bfc6cc48ab4e5df1d6da81664d6ed554fa6299&license=TYEqfDjJMVYU0aqJA0UykEpLzoiBK6hw`,
  dataOption: {
    brandid: 1,
    orderBy: 'long', // 2. order by total / long / short
    direction: 'desc', // 3. order direction (asc / desc)
    showLinesCount: 20, // 4. how many lines to show
    color1: '#FF0000',
    color2: '#0000FF',
  },
  chartOption: {
    title: "Country Money's Ratio",
    chartArea: { width: '80%' },
    hAxis: {
      title: 'Long - Short Ratio',
      minValue: 0,
    },
    vAxis: {
      title: 'Money type',
    },
    isStacked: true,
    // isStacked: 'percent',
    ticks: [0, 0.2, 0.4, 0.6, 0.8, 1],
  },
};

const segmentData = {
  1: [
    {
      ticker: 'XAUUSD',
      short: 1271,
      long: 1442,
      total: 2713,
      pshort: 0.46848507187615185,
      plong: 0.5315149281238482,
    },
    {
      ticker: 'EURUSD',
      short: 831,
      long: 656,
      total: 1487,
      pshort: 0.558843308675185,
      plong: 0.44115669132481505,
    },
    {
      ticker: 'GBPUSD',
      short: 443,
      long: 455,
      total: 898,
      pshort: 0.4933184855233853,
      plong: 0.5066815144766147,
    },
    {
      ticker: 'USDCAD',
      short: 197,
      long: 370,
      total: 567,
      pshort: 0.3474426807760141,
      plong: 0.6525573192239859,
    },
    {
      ticker: 'USDCHF',
      short: 130,
      long: 206,
      total: 336,
      pshort: 0.3869047619047619,
      plong: 0.6130952380952381,
    },
    {
      ticker: 'USDJPY',
      short: 215,
      long: 180,
      total: 395,
      pshort: 0.5443037974683544,
      plong: 0.45569620253164556,
    },
    {
      ticker: 'Nsaq100',
      short: 187,
      long: 175,
      total: 362,
      pshort: 0.5165745856353591,
      plong: 0.48342541436464087,
    },
    {
      ticker: 'AUDUSD',
      short: 252,
      long: 167,
      total: 419,
      pshort: 0.6014319809069213,
      plong: 0.39856801909307876,
    },
    {
      ticker: 'NZDUSD',
      short: 130,
      long: 131,
      total: 261,
      pshort: 0.49808429118773945,
      plong: 0.5019157088122606,
    },
    {
      ticker: 'BTCUSD',
      short: 103,
      long: 116,
      total: 219,
      pshort: 0.4703196347031963,
      plong: 0.5296803652968036,
    },
    {
      ticker: 'GBPJPY',
      short: 151,
      long: 115,
      total: 266,
      pshort: 0.5676691729323309,
      plong: 0.4323308270676692,
    },
    {
      ticker: 'BRENT',
      short: 165,
      long: 102,
      total: 267,
      pshort: 0.6179775280898876,
      plong: 0.38202247191011235,
    },
    {
      ticker: 'DowJones30',
      short: 137,
      long: 99,
      total: 236,
      pshort: 0.5805084745762712,
      plong: 0.4194915254237288,
    },
    {
      ticker: 'EURAUD',
      short: 64,
      long: 89,
      total: 153,
      pshort: 0.41830065359477125,
      plong: 0.5816993464052288,
    },
    {
      ticker: 'EURJPY',
      short: 151,
      long: 87,
      total: 238,
      pshort: 0.634453781512605,
      plong: 0.36554621848739494,
    },
    {
      ticker: 'EURGBP',
      short: 120,
      long: 85,
      total: 205,
      pshort: 0.5853658536585366,
      plong: 0.4146341463414634,
    },
    {
      ticker: 'EURCAD',
      short: 42,
      long: 79,
      total: 121,
      pshort: 0.34710743801652894,
      plong: 0.6528925619834711,
    },
    {
      ticker: 'WTI',
      short: 160,
      long: 77,
      total: 237,
      pshort: 0.6751054852320675,
      plong: 0.32489451476793246,
    },
    {
      ticker: 'GBPAUD',
      short: 67,
      long: 75,
      total: 142,
      pshort: 0.47183098591549294,
      plong: 0.528169014084507,
    },
    {
      ticker: 'NZDJPY',
      short: 46,
      long: 73,
      total: 119,
      pshort: 0.3865546218487395,
      plong: 0.6134453781512605,
    },
    {
      ticker: 'AUDJPY',
      short: 50,
      long: 70,
      total: 120,
      pshort: 0.4166666666666667,
      plong: 0.5833333333333334,
    },
    {
      ticker: 'AUDCAD',
      short: 67,
      long: 69,
      total: 136,
      pshort: 0.49264705882352944,
      plong: 0.5073529411764706,
    },
    {
      ticker: 'S&P500',
      short: 105,
      long: 63,
      total: 168,
      pshort: 0.625,
      plong: 0.375,
    },
    {
      ticker: 'EURCHF',
      short: 40,
      long: 62,
      total: 102,
      pshort: 0.39215686274509803,
      plong: 0.6078431372549019,
    },
    {
      ticker: 'GBPCHF',
      short: 49,
      long: 60,
      total: 109,
      pshort: 0.44954128440366975,
      plong: 0.5504587155963303,
    },
    {
      ticker: 'GBPCAD',
      short: 42,
      long: 58,
      total: 100,
      pshort: 0.42,
      plong: 0.58,
    },
    {
      ticker: 'CADCHF',
      short: 36,
      long: 58,
      total: 94,
      pshort: 0.3829787234042553,
      plong: 0.6170212765957447,
    },
    {
      ticker: 'GBPNZD',
      short: 51,
      long: 54,
      total: 105,
      pshort: 0.4857142857142857,
      plong: 0.5142857142857142,
    },
    {
      ticker: 'EURNZD',
      short: 50,
      long: 49,
      total: 99,
      pshort: 0.5050505050505051,
      plong: 0.494949494949495,
    },
    {
      ticker: 'AUDCHF',
      short: 35,
      long: 48,
      total: 83,
      pshort: 0.42168674698795183,
      plong: 0.5783132530120482,
    },
    {
      ticker: 'CADJPY',
      short: 116,
      long: 46,
      total: 162,
      pshort: 0.7160493827160493,
      plong: 0.2839506172839506,
    },
    {
      ticker: 'XAGUSD',
      short: 49,
      long: 45,
      total: 94,
      pshort: 0.5212765957446809,
      plong: 0.4787234042553192,
    },
    {
      ticker: 'NZDCAD',
      short: 20,
      long: 44,
      total: 64,
      pshort: 0.3125,
      plong: 0.6875,
    },
    {
      ticker: 'NZDCHF',
      short: 17,
      long: 40,
      total: 57,
      pshort: 0.2982456140350877,
      plong: 0.7017543859649122,
    },
    {
      ticker: 'AUDNZD',
      short: 74,
      long: 38,
      total: 112,
      pshort: 0.6607142857142857,
      plong: 0.3392857142857143,
    },
    {
      ticker: 'DXY',
      short: 20,
      long: 37,
      total: 57,
      pshort: 0.3508771929824561,
      plong: 0.6491228070175439,
    },
    {
      ticker: 'ETHUSD',
      short: 17,
      long: 35,
      total: 52,
      pshort: 0.3269230769230769,
      plong: 0.6730769230769231,
    },
    {
      ticker: 'USDRUB',
      short: 6,
      long: 34,
      total: 40,
      pshort: 0.15,
      plong: 0.85,
    },
    {
      ticker: 'AAPL.US',
      short: 3,
      long: 24,
      total: 27,
      pshort: 0.1111111111111111,
      plong: 0.8888888888888888,
    },
    {
      ticker: 'DAX30',
      short: 39,
      long: 23,
      total: 62,
      pshort: 0.6290322580645161,
      plong: 0.3709677419354839,
    },
    {
      ticker: 'BCHUSD',
      short: 6,
      long: 22,
      total: 28,
      pshort: 0.21428571428571427,
      plong: 0.7857142857142857,
    },
    {
      ticker: 'Russell2000',
      short: 25,
      long: 22,
      total: 47,
      pshort: 0.5319148936170213,
      plong: 0.46808510638297873,
    },
    {
      ticker: 'CHFJPY',
      short: 88,
      long: 22,
      total: 110,
      pshort: 0.8,
      plong: 0.2,
    },
    {
      ticker: 'TSLA.US',
      short: 3,
      long: 19,
      total: 22,
      pshort: 0.13636363636363635,
      plong: 0.8636363636363636,
    },
    {
      ticker: 'DSHUSD',
      short: 3,
      long: 18,
      total: 21,
      pshort: 0.14285714285714285,
      plong: 0.8571428571428571,
    },
    {
      ticker: 'LTCUSD',
      short: 8,
      long: 18,
      total: 26,
      pshort: 0.3076923076923077,
      plong: 0.6923076923076923,
    },
    {
      ticker: 'VIX',
      short: 2,
      long: 16,
      total: 18,
      pshort: 0.1111111111111111,
      plong: 0.8888888888888888,
    },
    {
      ticker: 'TNOTE',
      short: 0,
      long: 13,
      total: 13,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'USDZAR',
      short: 9,
      long: 12,
      total: 21,
      pshort: 0.42857142857142855,
      plong: 0.5714285714285714,
    },
    {
      ticker: 'BABA.US',
      short: 1,
      long: 11,
      total: 12,
      pshort: 0.08333333333333333,
      plong: 0.9166666666666666,
    },
    {
      ticker: 'EuroStoxx50',
      short: 2,
      long: 10,
      total: 12,
      pshort: 0.16666666666666666,
      plong: 0.8333333333333334,
    },
    {
      ticker: 'NFLX.US',
      short: 0,
      long: 10,
      total: 10,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'BAC.US',
      short: 13,
      long: 9,
      total: 22,
      pshort: 0.5909090909090909,
      plong: 0.4090909090909091,
    },
    {
      ticker: 'NGAS',
      short: 12,
      long: 9,
      total: 21,
      pshort: 0.5714285714285714,
      plong: 0.42857142857142855,
    },
    {
      ticker: 'BA.US',
      short: 0,
      long: 7,
      total: 7,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'USDMXN',
      short: 5,
      long: 6,
      total: 11,
      pshort: 0.45454545454545453,
      plong: 0.5454545454545454,
    },
    {
      ticker: 'INTC.US',
      short: 0,
      long: 6,
      total: 6,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MSFT.US',
      short: 1,
      long: 6,
      total: 7,
      pshort: 0.14285714285714285,
      plong: 0.8571428571428571,
    },
    {
      ticker: 'XOM.US',
      short: 0,
      long: 6,
      total: 6,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'COCOA',
      short: 0,
      long: 6,
      total: 6,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'EURNOK',
      short: 1,
      long: 5,
      total: 6,
      pshort: 0.16666666666666666,
      plong: 0.8333333333333334,
    },
    {
      ticker: 'USDNOK',
      short: 3,
      long: 5,
      total: 8,
      pshort: 0.375,
      plong: 0.625,
    },
    {
      ticker: 'EURRUB',
      short: 4,
      long: 5,
      total: 9,
      pshort: 0.4444444444444444,
      plong: 0.5555555555555556,
    },
    {
      ticker: 'BP.US',
      short: 0,
      long: 5,
      total: 5,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'DIS.US',
      short: 1,
      long: 4,
      total: 5,
      pshort: 0.2,
      plong: 0.8,
    },
    {
      ticker: 'C.US',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'BUND10Y',
      short: 3,
      long: 4,
      total: 7,
      pshort: 0.42857142857142855,
      plong: 0.5714285714285714,
    },
    {
      ticker: 'WHEAT',
      short: 2,
      long: 4,
      total: 6,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'WMT.US',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'XRPUSD',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'JD.US',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'Chin50',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'FTSE100',
      short: 1,
      long: 4,
      total: 5,
      pshort: 0.2,
      plong: 0.8,
    },
    {
      ticker: 'MRK.US',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'PG.US',
      short: 0,
      long: 4,
      total: 4,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'CRM.US',
      short: 2,
      long: 3,
      total: 5,
      pshort: 0.4,
      plong: 0.6,
    },
    {
      ticker: 'AA.US',
      short: 0,
      long: 3,
      total: 3,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'AF.FR',
      short: 0,
      long: 3,
      total: 3,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'AMD.US',
      short: 1,
      long: 3,
      total: 4,
      pshort: 0.25,
      plong: 0.75,
    },
    {
      ticker: 'AMZN.US',
      short: 2,
      long: 3,
      total: 5,
      pshort: 0.4,
      plong: 0.6,
    },
    {
      ticker: 'ASX200',
      short: 2,
      long: 3,
      total: 5,
      pshort: 0.4,
      plong: 0.6,
    },
    {
      ticker: 'CAC40',
      short: 4,
      long: 3,
      total: 7,
      pshort: 0.5714285714285714,
      plong: 0.42857142857142855,
    },
    {
      ticker: 'COTTONS',
      short: 0,
      long: 3,
      total: 3,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'EBAY.US',
      short: 1,
      long: 3,
      total: 4,
      pshort: 0.25,
      plong: 0.75,
    },
    {
      ticker: 'HD.US',
      short: 1,
      long: 3,
      total: 4,
      pshort: 0.25,
      plong: 0.75,
    },
    {
      ticker: 'NVDA.US',
      short: 1,
      long: 3,
      total: 4,
      pshort: 0.25,
      plong: 0.75,
    },
    {
      ticker: 'TEVA.US',
      short: 0,
      long: 3,
      total: 3,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'V.US',
      short: 0,
      long: 3,
      total: 3,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'HPQ.US',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'JNJ.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MCD.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MGNT.UK',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'GBPPLN',
      short: 3,
      long: 2,
      total: 5,
      pshort: 0.6,
      plong: 0.4,
    },
    {
      ticker: 'MS.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MU.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'EURPLN',
      short: 3,
      long: 2,
      total: 5,
      pshort: 0.6,
      plong: 0.4,
    },
    {
      ticker: 'EEM_ETF',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'OGZD.UK',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'Oil&Gs_ETF',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'DHI.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'PLATINUM',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'QCOM.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'RTS',
      short: 15,
      long: 2,
      total: 17,
      pshort: 0.8823529411764706,
      plong: 0.11764705882352941,
    },
    {
      ticker: 'SOYBEAN',
      short: 4,
      long: 2,
      total: 6,
      pshort: 0.6666666666666666,
      plong: 0.3333333333333333,
    },
    {
      ticker: 'CSCO.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'TWTR.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'UCG.IT',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'COFFEE',
      short: 2,
      long: 2,
      total: 4,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'CBK.DE',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'CAT.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'USDPLN',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'USDSEK',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'BBY.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'VZ.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'WFC.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'A.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'AML.UK',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'WU.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'AIR.FR',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'ABBV.US',
      short: 1,
      long: 2,
      total: 3,
      pshort: 0.3333333333333333,
      plong: 0.6666666666666666,
    },
    {
      ticker: 'YNDX.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'ZM.US',
      short: 0,
      long: 2,
      total: 2,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'EZJ.UK',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'RNO.FR',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'BMW.DE',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'FIVE.UK',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'FB.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'NICKEL',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'NKE.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'RACE.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'EURTRY',
      short: 3,
      long: 1,
      total: 4,
      pshort: 0.75,
      plong: 0.25,
    },
    {
      ticker: 'EMISS',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'WEC.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'PAH3.DE',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'PFE.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'ATVI.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'DBK.DE',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'SBER.UK',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'DAI.DE',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'SUGARS',
      short: 4,
      long: 1,
      total: 5,
      pshort: 0.8,
      plong: 0.2,
    },
    {
      ticker: 'GPS.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'COPPER',
      short: 3,
      long: 1,
      total: 4,
      pshort: 0.75,
      plong: 0.25,
    },
    {
      ticker: 'Aero_ETF',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'UBI.FR',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'ADBE.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'ULVR.UK',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'CON.DE',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'CMCSA.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'Hoe_ETF',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'IBEX35',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'GOOG.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'GM.US',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'HOG.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'JPM.US',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'KO.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'GLE.FR',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MAIL.UK',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MA.US',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'BOSS.DE',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'MNOD.UK',
      short: 1,
      long: 1,
      total: 2,
      pshort: 0.5,
      plong: 0.5,
    },
    {
      ticker: 'Gerny_ETF',
      short: 0,
      long: 1,
      total: 1,
      pshort: 0,
      plong: 1,
    },
    {
      ticker: 'USDTRY',
      short: 2,
      long: 1,
      total: 3,
      pshort: 0.6666666666666666,
      plong: 0.3333333333333333,
    },
    {
      ticker: 'ITA40',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'LOW.US',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'Energy_ETF',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'RDSA.UK',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'Nikkei225',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'IBM.US',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'EURSEK',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'LMT.US',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'CORN',
      short: 3,
      long: 0,
      total: 3,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'PCG.US',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'CHFPLN',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
    {
      ticker: 'Jpan_ETF',
      short: 1,
      long: 0,
      total: 1,
      pshort: 1,
      plong: 0,
    },
  ],
};

const fetchChartData = async (url) => {
  return fetch(url)
    .then((response) => response.json())
    .then((response) => response.sentiment);
};

const googleArrayToDataTable = (chartData, options) => {
  const { dataOption } = options;
  const {
    brandid,
    showLinesCount,
    orderBy: field,
    direction,
    color1: longColor,
    color2: shortColor,
  } = dataOption;
  if (brandid in chartData) {
    const resData = chartData[brandid]
      .sort((prv, nxt) => {
        const fstData = prv[field] || 0;
        const nxtData = nxt[field] || 0;
        return (fstData - nxtData) * (direction === 'asc' ? 1 : -1);
      })
      .map((row) => {
        const { ticker: name, short, long } = row;
        return [name, long, longColor, short, shortColor];
      })
      .slice(0, showLinesCount);

    console.log(resData);

    return google.visualization.arrayToDataTable([
      ['Segment', 'Long', { role: 'style' }, 'Short', { role: 'style' }],
      ...resData,
    ]);
  }
  return google.visualization.arrayToDataTable([]);
};

const drawMultSeries = async () => {
  // const segmentData = await fetchChartData(chartDataOption.url);
  const data = googleArrayToDataTable(segmentData, barChartOptions);

  const chart = new google.visualization.BarChart(
    document.getElementById('chart_div')
  );
  chart.draw(data, barChartOptions.chartOption);
};

google.charts.load('current', { packages: ['corechart', 'bar'] });
google.charts.setOnLoadCallback(drawMultSeries);
